# spf_js v0.5
# JavaScript management
# Simon Finch
# https://github.com/spiffin/spf_js

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YToxMjp7czo0OiJuYW1lIjtzOjY6InNwZl9qcyI7czo3OiJ2ZXJzaW9uIjtzOjM6IjAuNSI7
czo2OiJhdXRob3IiO3M6MTE6IlNpbW9uIEZpbmNoIjtzOjEwOiJhdXRob3JfdXJpIjtzOjMz
OiJodHRwczovL2dpdGh1Yi5jb20vc3BpZmZpbi9zcGZfanMiO3M6MTE6ImRlc2NyaXB0aW9u
IjtzOjIxOiJKYXZhU2NyaXB0IG1hbmFnZW1lbnQiO3M6NToib3JkZXIiO3M6MToiNSI7czo0
OiJ0eXBlIjtzOjE6IjEiO3M6NToiZmxhZ3MiO3M6MToiMiI7czo4OiJ0ZXh0cGFjayI7czoz
MTAwOiIjQHNwZl9qcwpzcGZfamF2YXNjcmlwdCA9PiBKYXZhU2NyaXB0CnNwZl90YWJfc2Ny
aXB0ID0+IEphdmFTY3JpcHRzCnNwZl9qc19kaXIgPT4gSmF2YVNjcmlwdCBkaXJlY3RvcnkK
c3BmX3NjcmlwdF9uYW1lID0+IE5hbWUgZm9yIHRoaXMgc2NyaXB0CnNwZl9lZGl0X3Njcmlw
dCA9PiBZb3UgYXJlIGVkaXRpbmcgc2NyaXB0CnNwZl9jb3B5X3NjcmlwdCA9PiAmIzgyMzA7
b3IgY29weSBzY3JpcHQgYXMKc3BmX2FsbF9zY3JpcHRzID0+IEFsbCBTY3JpcHRzCnNwZl9j
cmVhdGVfbmV3X3NjcmlwdCA9PiBDcmVhdGUgbmV3IHNjcmlwdApzcGZfc2NyaXB0X2NyZWF0
ZWQgPT4gU2NyaXB0IDxzdHJvbmc+e25hbWV9PC9zdHJvbmc+IGNyZWF0ZWQuCnNwZl9zY3Jp
cHRfZXhpc3RzID0+IFNjcmlwdCA8c3Ryb25nPntuYW1lfTwvc3Ryb25nPiBhbHJlYWR5IGV4
aXN0cy4Kc3BmX3NjcmlwdF9uYW1lX3JlcXVpcmVkID0+IFBsZWFzZSBwcm92aWRlIGEgbmFt
ZSBmb3IgeW91ciBzY3JpcHQuCnNwZl9zY3JpcHRfdXBkYXRlZCA9PiBTY3JpcHQgPHN0cm9u
Zz57bmFtZX08L3N0cm9uZz4gdXBkYXRlZC4Kc3BmX3NjcmlwdF9kZWxldGVkID0+IFNjcmlw
dCA8c3Ryb25nPntuYW1lfTwvc3Ryb25nPiBkZWxldGVkLgpzcGZfY2Fubm90X2RlbGV0ZV9k
ZWZhdWx0X3NjcmlwdCA9PiBTY3JpcHQgPHN0cm9uZz5kZWZhdWx0PC9zdHJvbmc+IGNhbm5v
dCBiZSBkZWxldGVkLgojQGxhbmd1YWdlIGZyLWZyCnNwZl9qYXZhc2NyaXB0ID0+IEphdmFT
Y3JpcHQKc3BmX3RhYl9zY3JpcHQgPT4gSmF2YVNjcmlwdHMKc3BmX2pzX2RpciA9PiBSw6lw
ZXJ0b2lyZSBKYXZhU2NyaXB0CnNwZl9zY3JpcHRfbmFtZSA9PiBOb20gZGUgY2Ugc2NyaXB0
CnNwZl9lZGl0X3NjcmlwdCA9PiBWb3VzIMOpZGl0ZXogbGUgc2NyaXB0CnNwZl9jb3B5X3Nj
cmlwdCA9PiBFbnJlZ2lzdHJlciBsZSBzY3JpcHQgc291cyBsZSBub20gOgpzcGZfYWxsX3Nj
cmlwdHMgPT4gVG91cyBsZXMgc2NyaXB0cwpzcGZfY3JlYXRlX25ld19zY3JpcHQgPT4gQ3LD
qWVyIHVuIG5vdXZlYXUgc2NyaXB0CnNwZl9zY3JpcHRfY3JlYXRlZCA9PiBMZSBzY3JpcHQg
PHN0cm9uZz57bmFtZX08L3N0cm9uZz4gYSDDqXTDqSBjcsOpw6kuCnNwZl9zY3JpcHRfZXhp
c3RzID0+IExlIHNjcmlwdCA8c3Ryb25nPntuYW1lfTwvc3Ryb25nPiBleGlzdGUgZMOpasOg
LgpzcGZfc2NyaXB0X25hbWVfcmVxdWlyZWQgPT4gVmV1aWxsZXogcmVuc2VpZ25lciB1biBu
b20gcG91ciB2b3RyZSBzY3JpcHQuCnNwZl9zY3JpcHRfdXBkYXRlZCA9PiBMZSBzY3JpcHQg
PHN0cm9uZz57bmFtZX08L3N0cm9uZz4gYSDDqXTDqSBtaXMgw6Agam91ci4Kc3BmX3Njcmlw
dF9kZWxldGVkID0+IExlIHNjcmlwdCA8c3Ryb25nPntuYW1lfTwvc3Ryb25nPiBhIMOpdMOp
IHN1cHByaW3DqS4Kc3BmX2Nhbm5vdF9kZWxldGVfZGVmYXVsdF9zY3JpcHQgPT4gTGUgc2Ny
aXB0IDxzdHJvbmc+ZGVmYXVsdDwvc3Ryb25nPiBuZSBwZXV0IHBhcyDDqnRyZSBzdXBwcmlt
w6kuCiNAbGFuZ3VhZ2UgZGUtZGUKc3BmX2phdmFzY3JpcHQgPT4gSmF2YVNjcmlwdApzcGZf
dGFiX3NjcmlwdCA9PiBKYXZhU2NyaXB0cwpzcGZfanNfZGlyID0+IEphdmFTY3JpcHQtVmVy
emVpY2huaXMKc3BmX3NjcmlwdF9uYW1lID0+IE5hbWUgZGllc2VzIFNjcmlwdApzcGZfZWRp
dF9zY3JpcHQgPT4gU2llIGJlYXJiZWl0ZW4gZGFzIFNjcmlwdApzcGZfY29weV9zY3JpcHQg
PT4gS29waWVyZSBTY3JpcHQgYWxzOgpzcGZfYWxsX3NjcmlwdHMgPT4gQWxsZSBTY3JpcHRz
CnNwZl9jcmVhdGVfbmV3X3NjcmlwdCA9PiBOZXVlcyBTY3JpcHQgZXJzdGVsbGVuCnNwZl9z
Y3JpcHRfY3JlYXRlZCA9PiBTY3JpcHQgPHN0cm9uZz57bmFtZX08L3N0cm9uZz4gd3VyZGUg
ZXJzdGVsbHQuCnNwZl9zY3JpcHRfZXhpc3RzID0+IFNjcmlwdCA8c3Ryb25nPntuYW1lfTwv
c3Ryb25nPiBleGlzdGllcnQgYmVyZWl0cy4KU2NyaXB0IDxzdHJvbmc+e25hbWV9PC9zdHJv
bmc+IGV4aXN0aWVydCBiZXJlaXRzLgpzcGZfc2NyaXB0X25hbWVfcmVxdWlyZWQgPT4gQml0
dGUgdmVyZ2ViZW4gU2llIGVpbmVuIE5hbWVuIGbDvHIgSWhyIFNjcmlwdC4Kc3BmX3Njcmlw
dF91cGRhdGVkID0+IFNjcmlwdCA8c3Ryb25nPntuYW1lfTwvc3Ryb25nPiB3dXJkZSBha3R1
YWxpc2llcnQuCnNwZl9zY3JpcHRfZGVsZXRlZCA9PiBTY3JpcHQgPHN0cm9uZz57bmFtZX08
L3N0cm9uZz4gd3VyZGUgZ2Vsw7ZzY2h0LgpzcGZfY2Fubm90X2RlbGV0ZV9kZWZhdWx0X3Nj
cmlwdCA9PiBTY3JpcHQgPHN0cm9uZz5kZWZhdWx0PC9zdHJvbmc+IGtvbm50ZSBuaWNodCBn
ZWzDtnNjaHQgd2VyZGVuLgojQGxhbmd1YWdlIGl0LWl0CnNwZl9qYXZhc2NyaXB0ID0+IEph
dmFTY3JpcHQKc3BmX3RhYl9zY3JpcHQgPT4gSmF2YVNjcmlwdHMKc3BmX2pzX2RpciA9PiBK
YXZhU2NyaXB0IGRpcmVjdG9yeQpzcGZfc2NyaXB0X25hbWUgPT4gTm9tZSBkZWxsbyBzY3Jp
cHQKc3BmX2VkaXRfc2NyaXB0ID0+IFN0YWkgbW9kaWZpY2FuZG8gbG8gc2NyaXB0CnNwZl9j
b3B5X3NjcmlwdCA9PiAmIzgyMzA7byBjb3BpYSBsbyBzY3JpcHQgY29uIG5vbWUKc3BmX2Fs
bF9zY3JpcHRzID0+IFR1dHRpIGdsaSBzY3JpcHQKc3BmX2NyZWF0ZV9uZXdfc2NyaXB0ID0+
IENyZWEgbnVvdm8gc2NyaXB0CnNwZl9zY3JpcHRfY3JlYXRlZCA9PiBTY3JpcHQgPHN0cm9u
Zz57bmFtZX08L3N0cm9uZz4gY3JlYXRvLgpzcGZfc2NyaXB0X2V4aXN0cyA9PiBMbyBzY3Jp
cHQgPHN0cm9uZz57bmFtZX08L3N0cm9uZz4gZXNpc3RlIGdpJmFncmF2ZTsuCnNwZl9zY3Jp
cHRfbmFtZV9yZXF1aXJlZCA9PiBQZXIgZmF2b3JlIGluc2VyaXNjaSB1biBub21lIHBlciBs
byBzY3JpcHQKc3BmX3NjcmlwdF91cGRhdGVkID0+IFNjcmlwdCA8c3Ryb25nPntuYW1lfTwv
c3Ryb25nPiBhZ2dpb3JuYXRvLgpzcGZfc2NyaXB0X2RlbGV0ZWQgPT4gU2NyaXB0IDxzdHJv
bmc+e25hbWV9PC9zdHJvbmc+IGNhbmNlbGxhdG8uCnNwZl9jYW5ub3RfZGVsZXRlX2RlZmF1
bHRfc2NyaXB0ID0+IExvIHNjcmlwdCA8c3Ryb25nPmRlZmF1bHQ8L3N0cm9uZz4gbm9uIHB1
Jm9ncmF2ZTsgZXNzZXJlIGNhbmNlbGxhdG8uIjtzOjQ6ImhlbHAiO3M6NTcyMDoiPGgxPnNw
Zl9qczogSmF2YVNjcmlwdCBtYW5hZ2VtZW50PC9oMT4KCjxwPkNyZWF0ZSwgZWRpdCBhbmQg
ZGVsZXRlIHNjcmlwdHMgaW4gVGV4dHBhdHRlcm4gYWRtaW4gYW5kIGV4cG9ydCBvbiBzYXZl
IHRvIGV4dGVybmFsIGZpbGVzLjwvcD4KPHA+UkVRVUlSRVM6IDxzdHJvbmc+VGV4cGF0dGVy
biA0LjUuMTwvc3Ryb25nPiBhbmQgUEhQIDUuPC9wPgo8cD5NaW5pZmljYXRpb24gcmVxdWly
ZXMgPGEgaHJlZj0iaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL21pbmlmeSI+TWluaWZ5PC9h
Pi48L3A+CjxwPlBsZWFzZSByZWFkIHRoZSBpbnN0cnVjdGlvbnMgYW5kIG5vdGVzIGJlbG93
IGJlZm9yZSB1c2UuPC9wPgo8cD5MYXRlc3QgdmVyc2lvbjogPGEgaHJlZj0iaHR0cHM6Ly9n
aXRodWIuY29tL3NwaWZmaW4vc3BmX2pzIj5zcGZfanMgR2l0SHViIHJlcG9zaXRvcnk8L2E+
LjwvcD4KPHA+QSBjb21iaW5hdGlvbiBvZiB0d28gcHJldmlvdXNseS1yZWxlYXNlZCBwbHVn
aW5zOiBzdG1famF2YXNjcmlwdCBieSBTdGFuaXNsYXYgTcO8bGxlciBhbmQgcnZtX2NzcyBi
eSBSdXVkIHZhbiBNZWxpY2suIFRoYW5rcyB0byB0aGUgb3JpZ2luYWwgYXV0aG9ycyBhbmQg
dG8gSnVra2EgKEdvY29tKSBhbmQgU3RlZiAoQmxva2UpIGZvciBpbnZhbHVhYmxlIGZlZWRi
YWNrLjwvcD4KPHA+RmVhdHVyZXMgaW5jbHVkZSBleHBvcnRpbmcgc2NyaXB0cyBhcyBmaWxl
cyB0byBhIGRpcmVjdG9yeSwgb3B0aW9uYWwg4oCcdHlwZeKAnSBhdHRyaWJ1dGUgPGNvZGU+
dHlwZT0mcXVvdDt0ZXh0L2phdmFzY3JpcHQmcXVvdDs8L2NvZGU+IGFuZCBjaGFuZ2luZyB0
aGUgdGFnIGFyZ3VtZW50IGZyb20gPGNvZGU+bj08L2NvZGU+IHRvIDxjb2RlPm5hbWU9PC9j
b2RlPiB0byBicmluZyBpdCBpbiBsaW5lIHdpdGggZGVmYXVsdCBjc3Mgc3ludGF4LjwvcD4K
CjxwPlJlLXdyaXR0ZW4gZm9yIFRleHRwYXR0ZXJuIDQuNS4xLjwvcD4KCjxwPjxzdHJvbmc+
Rm9yIFRleHRwYXR0ZXJuIDQuNC4xIGFuZCBiZWxvdyB1c2UgPGEgaHJlZj0iaHR0cHM6Ly9y
YXcuZ2l0aHViLmNvbS9zcGlmZmluL3NwZl9qcy9tYXN0ZXIvc3BmX2pzXzAuNDEudHh0Ij50
aGlzIHZlcnNpb248L2E+Ljwvc3Ryb25nPjwvcD4KCjxiciAvPjxociAvPjxiciAvPgoKPGgy
Pkluc3RydWN0aW9uczo8L2gyPgoKPG9sPgo8bGk+Q3JlYXRlIGEgZGlyZWN0b3J5IGZvciB0
aGUgc3RhdGljIEphdmFTY3JpcHQgZmlsZXMgaW4gdGhlIHJvb3Qgb2YgeW91ciB0ZXh0cGF0
dGVybiBpbnN0YWxsYXRpb24uIFlvdSBzaG91bGQgbWFrZSBzdXJlIHRoYXQgPHNwYW4gY2xh
c3M9ImNhcHMiPlBIUDwvc3Bhbj4gaXMgYWJsZSB0byB3cml0ZSB0byB0aGF0IGRpcmVjdG9y
eS48L2xpPgo8bGk+VmlzaXQgdGhlIEFkdmFuY2VkIFByZWZlcmVuY2VzIChBZG1pbiA+IFBy
ZWZlcmVuY2VzID4gQWR2YW5jZWQpIGFuZCBtYWtlIHN1cmUgdGhlIOKAnEphdmFTY3JpcHQg
ZGlyZWN0b3J54oCdIHByZWZlcmVuY2UgY29udGFpbnMgdGhlIGRpcmVjdG9yeSB5b3UgY3Jl
YXRlZCBpbiBzdGVwIDEgKGJ5IGRlZmF1bHQg4oCYanPigJkpLiBUaGlzIHBhdGggaXMgcmVs
YXRpdmUgcGF0aCB0byB0aGUgZGlyZWN0b3J5IG9mIHlvdXIgcm9vdCBUZXh0cGF0dGVybiBp
bnN0YWxsYXRpb24uPC9saT4KPGxpPkFjdGl2YXRlIHRoaXMgcGx1Z2luLjwvbGk+CjxsaT5H
byB0byBQcmVzZW50YXRpb24gPiBKYXZhU2NyaXB0IGFuZCBjcmVhdGUgSmF2YVNjcmlwdHMg
eW914oCZZCBsaWtlIHRvIGVtYmVkIHdpdGhpbiB5b3VyIHBhZ2UgdGVtcGxhdGVzLjwvbGk+
CjxsaT5KYXZhU2NyaXB0IGZpbGVzIGFyZSBzdG9yZWQgaW4gdGhlIGRhdGFiYXNlIChmb3Ig
ZWFzeSBtYW5hZ2VtZW50IGFuZCBlZGl0aW5nKSBhbmQsIG9uIHNhdmUsIGV4cG9ydGVkIHRv
IGEgZGlyZWN0b3J5IGluIHlvdXIgd2Vic2l0ZSB3aGVyZSB0aGV5IGNhbiBiZSByZWZlcmVu
Y2VkIChhcyBleHRlcm5hbCBKYXZhU2NyaXB0KSB3aXRoIHRoZSB0YWcgYmVsb3cuPC9saT4K
PGxpPkZvciBtaW5pZmljYXRpb24geW91IG11c3QgaW5zdGFsbCA8YSBocmVmPSJodHRwOi8v
Y29kZS5nb29nbGUuY29tL3AvbWluaWZ5Ij5NaW5pZnk8L2E+IC0ganVzdCB1cGxvYWQgdGhl
ICdtaW4nIGRpcmVjdG9yeSB0byB5b3VyIHdlYiByb290IGZvciBiYXNpYyB1c2FnZS48L2E+
PC9saT4KPC9vbD4KCjxiciAvPjxociAvPjxiciAvPgoKPGgyPlRhZ3M6PC9oMj4KCjxwPjxj
b2RlPiZsdDt0eHA6c3BmX2pzIC8mZ3Q7IChlbWJlZHMgdGhlIGRlZmF1bHQgSmF2YVNjcmlw
dCBmaWxlKTwvY29kZT48L3A+CjxwPjxjb2RlPiZsdDt0eHA6c3BmX2pzIG5hbWU9JnF1b3Q7
bXlzY3JpcHQmcXVvdDsgLyZndDsgKGVtYmVkcyB0aGUgSmF2YVNjcmlwdCBmaWxlIG5hbWVk
ICZxdW90O215c2NyaXB0JnF1b3Q7KTwvY29kZT48L3A+Cgo8aDM+SFRNTCBvdXRwdXQ6PC9o
Mz4KPHA+PGNvZGU+Jmx0O3NjcmlwdCBzcmM9JnF1b3Q7aHR0cDovL215c2l0ZS5jb20vanMv
bXlzY3JpcHQuanMmcXVvdDsmZ3Q7Jmx0Oy9zY3JpcHQmZ3Q7PC9jb2RlPjwvcD4KCjxoMz4i
dHlwZSIgYXR0cmlidXRlPC9oMz4KPHA+QnkgZGVmYXVsdCB0aGUgcGx1Z2luIG91dHB1dHMg
YSBzY3JpcHQgdGFnIHdpdGhvdXQgdGhlIDxhIGhyZWY9Imh0dHA6Ly93d3cudzNzY2hvb2xz
LmNvbS9odG1sNS90YWdfc2NyaXB0LmFzcCI+InR5cGUiIGF0dHJpYnV0ZTwvYT4gKHJlcXVp
cmVkIGluIFhIVE1ML0hUTUw0IGJ1dCBvcHRpb25hbCBpbiBIVE1MNSkuPC9wPgo8cD5UbyBp
bmNsdWRlIGEgInR5cGUiIGF0dHJpYnV0ZSBqdXN0IHVzZSB0aGUgPGNvZGU+dHlwZT0mcXVv
dDsxJnF1b3Q7PC9jb2RlPiBhcmd1bWVudDo8L3A+CjxwPjxjb2RlPiZsdDt0eHA6c3BmX2pz
IG5hbWU9JnF1b3Q7bXlzY3JpcHQmcXVvdDsgdHlwZT0mcXVvdDsxJnF1b3Q7IC8mZ3Q7PC9j
b2RlPjwvcD4KPHA+T3V0cHV0czo8L3A+CjxwPjxjb2RlPiZsdDtzY3JpcHQgdHlwZT0mcXVv
dDt0ZXh0L2phdmFzY3JpcHQmcXVvdDsgc3JjPSZxdW90O2h0dHA6Ly9teXNpdGUuY29tL2pz
L215c2NyaXB0LmpzJnF1b3Q7Jmd0OyZsdDsvc2NyaXB0Jmd0OzwvY29kZT48L3A+Cgo8aDM+
Im1pbiIgYXR0cmlidXRlPC9oMz4KPHA+WW91IGNhbiBub3cgbWluaWZ5IHlvdXIgSmF2YVNj
cmlwdHMgZHluYW1pY2FsbHkgPHN0cm9uZz5yZXF1aXJlcyA8YSBocmVmPSJodHRwOi8vY29k
ZS5nb29nbGUuY29tL3AvbWluaWZ5Ij5NaW5pZnk8L2E+PC9zdHJvbmc+IGluc3RhbGxlZCBp
biB0aGUgc3RhbmRhcmQgKERvY3VtZW50Um9vdC9taW4pIGxvY2F0aW9uLjwvcD4KPHA+PGNv
ZGU+Jmx0O3R4cDpzcGZfanMgbmFtZT0mcXVvdDtteXNjcmlwdCZxdW90OyBtaW49JnF1b3Q7
MSZxdW90OyAvJmd0OzwvY29kZT48L3A+CjxwPk91dHB1dHM6PC9wPgo8cD48Y29kZT4mbHQ7
c2NyaXB0IHNyYz0mcXVvdDtodHRwOi8vbXlzaXRlLmNvbS9taW4vZj1qcy9teXNjcmlwdC5q
cyZxdW90OyZndDsmbHQ7L3NjcmlwdCZndDs8L2NvZGU+PC9wPgo8cD4oV29ya3Mgd2l0aCBv
ciB3aXRob3V0IHRoZSAidHlwZSIgYXR0cmlidXRlLik8L3A+Cgo8YnIgLz48aHIgLz48YnIg
Lz4KCjxoMj5Ob3Rlczo8L2gyPgoKPG9sPgo8bGk+RG9u4oCZdCB1c2Ugbm9uLWFscGhhbnVt
ZXJpYyBjaGFyYWN0ZXJzIGluIHNjcmlwdCBuYW1lcyAoaWYgeW91IHRyeSB0byB0aGV54oCZ
bGwgYmUgc3RyaXBwZWQpLjwvbGk+CjxsaT5UaGUgcGx1Z2luIHdpbGwgY29udmVydCB5b3Vy
IHNjcmlwdCBuYW1lcyB0byBsb3dlcmNhc2UuPC9saT4KPGxpPlRoZSBwbHVnaW4gd2lsbCB0
aHJvdyBhbiBlcnJvciBpZiB5b3UgdHJ5IHRvIGVtYmVkIGEgbm9uLWV4aXN0ZW50IHNjcmlw
dCAtIHNpbWlsYXIgdG86IDxjb2RlPlRhZyBlcnJvcjogICAtJmd0OyAgVGV4dHBhdHRlcm4g
Tm90aWNlOiBUaGUgcmVxdWVzdGVkIHJlc291cmNlIHdhcyBub3QgZm91bmQuICZxdW90O3Nj
cmlwdF9uYW1lJnF1b3Q7PC9jb2RlPi48L2xpPgo8bGk+Jm1kYXNoOyBJbiB3aGljaCBjYXNl
IGNoZWNrIHRoZSBzY3JpcHQgZXhpc3RzIGFuZCB5b3VyIGVtYmVkIHRhZyBmb3IgdHlwb3Mu
PC9saT4KPGxpPiJtaW4iIGF0dHJpYnV0ZSBhc3N1bWVzIE1pbmlmeSBpcyBpbnN0YWxsZWQg
aW4gc3RhbmRhcmQgKERvY3VtZW50Um9vdC9taW4pIGxvY2F0aW9uLjwvbGk+Cjwvb2w+Cgo8
YnIgLz48aHIgLz48YnIgLz4KCjxoMj5zdG1famF2YXNjcmlwdDwvaDI+Cgo8cD5JZiBzdG1f
amF2YXNjcmlwdCBpcyBpbnN0YWxsZWQgYW5kIGFjdGl2YXRlZCB5b3Ugd2lsbCBzZWUgdHdv
IEphdmFTY3JpcHQgdGFicyBpbiBQcmVzZW50YXRpb24gLSBvbmUgbmFtZWQg4oCYSmF2YXNj
cmlwdOKAmSAoc3RtX2phdmFzY3JpcHQgLSB3aXRoIGxvd2VyY2FzZSDigJlz4oCZKSBhbmQg
YW5vdGhlciDigJhKYXZhU2NyaXB04oCZIChzcGZfanMgLSB1cHBlcmNhc2Ug4oCYU+KAmSku
IFlvdSBjYW4gY29weSBhbmQgcGFzdGUgc2NyaXB0cyBmcm9tIHN0bV9qYXZhc2NyaXB0IHRv
IHNwZl9qcyAtIGFuZCB0aGVuIGRpc2FibGUgc3RtX2phdmFzY3JpcHQuIEl04oCZcyBub3Qg
YWR2aXNhYmxlIHRvIHJ1biBib3RoIHBsdWdpbnMgc2ltdWx0YW5lb3VzbHkuPC9wPgoKPGJy
IC8+PGhyIC8+PGJyIC8+Cgo8aDI+TGFuZ3VhZ2Ugc3VwcG9ydCAoVGV4dHBhY2spPC9oMj4K
CjxwPlRoaXMgcGx1Z2luIHVzZXMgYW4gRW5nbGlzaCBUZXh0cGFjayBieSBkZWZhdWx0IGFu
ZCBpbnN0YWxscyBGcmVuY2ggKGZyLWZyKSwgR2VybWFuIChkZS1kZSkgYW5kIEl0YWxpYW4g
KGl0LWl0KSBUZXh0cGFja3MuPC9wPgo8cD5UbyB1c2UgeW91ciBvd24gbGFuZ3VhZ2Ugc2Vl
IHRoZSA8YSBocmVmPSJodHRwczovL3Jhdy5naXRodWIuY29tL3NwaWZmaW4vc3BmX2pzL21h
c3Rlci9zcGZfanNfdGV4dHBhY2sudHh0Ij5zcGZfanNfdGV4dHBhY2s8L2E+IGZpbGUgb24g
R2l0SHViLjwvcD4KCjxiciAvPjxociAvPjxiciAvPgoKPGgyPlZlcnNpb24gaGlzdG9yeTwv
aDI+Cgo8cD4wLjUgLSBOb3ZlbWJlciAyMDEyPC9wPgo8dWw+CjxsaT5SZXdyaXR0ZW4gZm9y
IFRleHRwYXR0ZXJuIDQuNS54LjwvbGk+CjwvdWw+CjxwPjAuNDEgLSBKdW5lIDIwMTI8L3A+
Cjx1bD4KPGxpPkl0YWxpYW4gVGV4dHBhY2sgYWRkZWQgKHRoYW5rcyBNYXJjbykuPC9saT4K
PGxpPkxhc3QgdmVyc2lvbiB0byBzdXBwb3J0IFRleHRwYXR0ZXJuIDQuNC4xIGFuZCBiZWxv
dy48L2xpPgo8L3VsPgo8cD4wLjQgLSBNYXkgMjAxMjwvcD4KPHVsPgo8bGk+QWRkZWQgPGEg
aHJlZj0iaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL21pbmlmeSI+TWluaWZ5PC9hPiBzdXBw
b3J0LjwvbGk+CjwvdWw+CjxwPjAuMyAtIE1heSAyMDEyPC9wPgo8dWw+CjxsaT5GaXhlZCBk
ZWxldGUgaXNzdWUgd2l0aCBzY3JpcHQgbmFtZXMgY29udGFpbmluZyBkb3RzICh0aGFua3Mg
WWlhbm5pcykuPC9saT4KPC91bD4KPHA+MC4yIC0gQXByaWwgMjAxMjwvcD4KPHVsPgo8bGk+
RnJlbmNoIGFuZCBHZXJtYW4gVGV4dHBhY2tzIGFkZGVkICh0aGFua3MgUGF0cmljayBhbmQg
VWxpKTs8L2xpPgo8bGk+YWRkZWQgY29tcGF0aWJpbGl0eSB3aXRoIHRoZSBzeW50YXgtaGln
aGxpZ2h0aW5nIDxhIGhyZWY9Imh0dHBzOi8vZ2l0aHViLmNvbS9zcGlmZmluL3NwZl9jb2Rl
bWlycm9yIj5zcGZfY29kZW1pcnJvcjwvYT4uPC9saT4KPC91bD4KCjxwPjAuMSAtIEFwcmls
IDIwMTI8L3A+Cjx1bD4KPGxpPmZpcnN0IHJlbGVhc2UuPC9saT4KPC91bD4iO3M6NDoiY29k
ZSI7czo5ODYwOiIvKioKICogc3BmX2pzIC0gSmF2YVNjcmlwdCBtYW5hZ2VtZW50IGZvciBU
ZXh0cGF0dGVybiA0LjUueAogKgogKiDCqSAyMDEyIFNpbW9uIEZpbmNoIC0gaHR0cHM6Ly9n
aXRodWIuY29tL3NwaWZmaW4KICoKICogTGljZW5zZWQgdW5kZXIgR05VIEdlbmVyYWwgUHVi
bGljIExpY2Vuc2UgdmVyc2lvbiAyCiAqIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9n
cGwtMi4wLmh0bWwKICoKICogVmVyc2lvbiAwLjUgLS0gMiBOb3ZlbWJlciAyMDEyCiAqCiAq
IE1hbnkgdGhhbmtzIHRvIEp1a2thIGZvciBpbnZhbHVhYmxlIGZlZWRiYWNrCiAqLwoKaWYg
KEB0eHBpbnRlcmZhY2UgPT0gJ2FkbWluJykgewoKICAgIGFkZF9wcml2cygnc3BmX2pzJywg
JzEsMicpOwogICAgcmVnaXN0ZXJfdGFiKCdwcmVzZW50YXRpb24nLCAnc3BmX2pzJywgZ1R4
dCgnc3BmX2phdmFzY3JpcHQnKSk7CiAgICByZWdpc3Rlcl9jYWxsYmFjaygnc3BmX2pzX2V2
ZW50JywgJ3NwZl9qcycpOwogICAgcmVnaXN0ZXJfY2FsbGJhY2soJ3NwZl9qc19pbnN0YWxs
JywgJ3BsdWdpbl9saWZlY3ljbGUuc3BmX2pzJyk7Cgp9CgovKioKICogSW5zdGFsbGVyIGZ1
bmN0aW9uCiAqIEBwYXJhbSBzdHJpbmcgJGV2ZW50IEFkbWluLXNpZGUgZXZlbnQKICogQHBh
cmFtIHN0cmluZyAkc3RlcCBBZG1pbi1zaWRlLCBwbHVnaW4tbGlmZWN5Y2xlIHN0ZXAKICov
CgpmdW5jdGlvbiBzcGZfanNfaW5zdGFsbCgkZXZlbnQ9JycsICRzdGVwPScnKSB7CgogICAg
Z2xvYmFsICRwcmVmczsKCiAgICBpZigkc3RlcCA9PSAnZGVsZXRlZCcpIHsKCiAgICAgICAg
c2FmZV9kZWxldGUoCiAgICAgICAgICAgICd0eHBfcHJlZnMnLAogICAgICAgICAgICAibmFt
ZT0nc3BmX2pzX2RpciciCiAgICAgICAgKTsKCiAgICAgICAgQHNhZmVfcXVlcnkoCiAgICAg
ICAgICAgICdEUk9QIFRBQkxFIElGIEVYSVNUUyAnLnNhZmVfcGZ4KCdzcGZfanMnKQogICAg
ICAgICk7CgogICAgICAgIC8vIGRlbGV0ZSB0aGUgVGV4dHBhY2sKCiAgICAgICAgc2FmZV9k
ZWxldGUoCiAgICAgICAgICAgICd0eHBfbGFuZycsCiAgICAgICAgICAgICJldmVudCA9ICdz
cGZfanMnIgogICAgICAgICk7CgogICAgICAgIHJldHVybjsKCiAgICB9CgogICAgLy8gVmVy
c2lvbiBjaGVjawogICAgaWYgKHR4cF92ZXJzaW9uID49ICc0LjUuMCcpIHsKICAgICAgICBy
ZXR1cm47CiAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnVGhlIHBsdWdpbiBzcGZfanMg
dmVyc2lvbiAwLjUgcmVxdWlyZXMgVGV4dHBhdHRlcm4gNC41LjEgLSB5b3UgYXJlIHJ1bm5p
bmcgVGV4dHBhdHRlcm4gJyAuIHR4cF92ZXJzaW9uIC4gJyAtIHBsZWFzZSBkZWxldGUgc3Bm
X2pzLic7CiAgICB9CgogICAgLyogQ3JlYXRlIHRhYmxlLCBwcmVmcyBhbmQgZGVmYXVsdC5q
cyB3aGVuIHNwZl9qc19kaXIgaXNuJ3Qgc2V0ICovCgogICAgaWYoIWlzc2V0KCRwcmVmc1sn
c3BmX2pzX2RpciddKSkgewoKICAgICAgICBzYWZlX3F1ZXJ5KAogICAgICAgICAgICAiQ1JF
QVRFIFRBQkxFIElGIE5PVCBFWElTVFMgIi5zYWZlX3BmeCgnc3BmX2pzJykuIiAoCiAgICAg
ICAgICAgICAgICBuYW1lIHZhcmNoYXIoMjU1KSBOT1QgTlVMTCBkZWZhdWx0ICcnLAogICAg
ICAgICAgICAgICAganMgbG9uZ3RleHQgTk9UIE5VTEwsCiAgICAgICAgICAgICAgICBQUklN
QVJZIEtFWShuYW1lKQogICAgICAgICAgICApIENIQVJTRVQ9dXRmOCIKICAgICAgICApOwoK
ICAgICAgICBpZighc2FmZV9jb3VudCgic3BmX2pzIiwgIm5hbWU9J2RlZmF1bHQnIikpIHsK
CiAgICAgICAgICAgIHNhZmVfaW5zZXJ0KCJzcGZfanMiLCAibmFtZT0nZGVmYXVsdCcsIGpz
PScvLyBZb3VyIGRlZmF1bHQgSmF2YVNjcmlwdCciKTsKCiAgICAgICAgfQoKICAgICAgICBz
YWZlX2luc2VydCgKICAgICAgICAgICAgJ3R4cF9wcmVmcycsCiAgICAgICAgICAgICJwcmVm
c19pZD0xLAogICAgICAgICAgICBuYW1lPSdzcGZfanNfZGlyJywKICAgICAgICAgICAgdmFs
PSdqcycsCiAgICAgICAgICAgIHR5cGU9MSwKICAgICAgICAgICAgZXZlbnQ9J2FkbWluJywK
ICAgICAgICAgICAgaHRtbD0ndGV4dF9pbnB1dCcsCiAgICAgICAgICAgIHBvc2l0aW9uPTIx
IgogICAgICAgICk7CiAgICB9Cn0KCi8qKgogKiBFdmVudCBmdW5jdGlvbnMKICovCgpmdW5j
dGlvbiBzcGZfanNfZXZlbnQoKSB7CgogICAgZ2xvYmFsICRldmVudCwgJHN0ZXA7CgogICAg
aWYgKCRldmVudCA9PSAnc3BmX2pzJykgewogICAgICAgIHJlcXVpcmVfcHJpdnMoJ3NwZl9q
cycpOwoKICAgICAgICBib3VuY2VyKCRzdGVwLAogICAgICAgICAgICBhcnJheSgKICAgICAg
ICAgICAgICAgICdzcGZfanNfZWRpdF9yYXcnICAgPT4gZmFsc2UsCiAgICAgICAgICAgICAg
ICAncG91cicgICAgICAgICAgICAgID0+IGZhbHNlLAogICAgICAgICAgICAgICAgJ3NwZl9q
c19zYXZlJyAgICAgICA9PiB0cnVlLAogICAgICAgICAgICAgICAgJ3NwZl9qc19jb3B5JyAg
ICAgICA9PiB0cnVlLAogICAgICAgICAgICAgICAgJ3NwZl9qc19kZWxldGUnICAgICA9PiB0
cnVlLAogICAgICAgICAgICAgICAgJ3NwZl9qc19lZGl0JyAgICAgICA9PiBmYWxzZSwKICAg
ICAgICAgICAgKQogICAgICAgICk7CgogICAgICAgIHN3aXRjaCAoJHN0ZXApIHsKICAgICAg
ICAgICAgY2FzZSAnJzogc3BmX2pzX2VkaXQoKTsgICAgICAgICAgICAgICAgICAgICAgICAg
YnJlYWs7CiAgICAgICAgICAgIGNhc2UgJ3NwZl9qc19lZGl0X3Jhdyc6IHNwZl9qc19lZGl0
KCk7ICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlICdwb3VyJzogc3BmX2pzX2Vk
aXQoKTsgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnc3Bm
X2pzX3NhdmUnOiBzcGZfanNfc2F2ZSgpOyAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAg
ICAgIGNhc2UgJ3NwZl9qc19jb3B5Jzogc3BmX2pzX2NvcHkoKTsgICAgICAgICAgICAgIGJy
ZWFrOwogICAgICAgICAgICBjYXNlICdzcGZfanNfZGVsZXRlJzogc3BmX2pzX2RlbGV0ZSgp
OyAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSAnc3BmX2pzX2VkaXQnOiBzcGZf
anNfZWRpdCgpOwogICAgICAgIH0KICAgIH0KfQoKLyoqCiAqIE91dHB1dCB0YWcKICovCgpm
dW5jdGlvbiBzcGZfanMoJGF0dHMpIHsKCiAgICBnbG9iYWwgJHByZWZzOwoKICAgIGV4dHJh
Y3QobEF0dHMoYXJyYXkoCiAgICAgICAgJ25hbWUnID0+ICdkZWZhdWx0JywKICAgICAgICAn
dHlwZScgPT4gJycsCiAgICAgICAgJ21pbicgPT4gJycKICAgICksICRhdHRzKSk7CgogICAg
JG5hbWUgPSBzdHJ0b2xvd2VyKHNhbml0aXplRm9yVXJsKCRuYW1lKSk7CgogICAgaWYoIXNh
ZmVfcm93KCduYW1lJywgJ3NwZl9qcycsICJuYW1lPSciLmRvU2xhc2goJG5hbWUpLiInIikp
IHsKCiAgICAgICAgIHRyaWdnZXJfZXJyb3IoZ1R4dCgnNDA0X25vdF9mb3VuZCcpLnNwLnN0
cm9uZygnIicuJG5hbWUuJyInKSk7CgogICAgICAgIHJldHVybjsKCiAgICB9CgogICAgaWYg
KCEkdHlwZSAmJiAhJG1pbikgewoKICAgICAgICByZXR1cm4gJzxzY3JpcHQgc3JjPSInLnR4
cHNwZWNpYWxjaGFycyhodS4kcHJlZnNbJ3NwZl9qc19kaXInXS4nLycuJG5hbWUpLicuanMi
Pjwvc2NyaXB0Pic7CgogICAgfSBlbHNlaWYgKCRtaW4gJiYgISR0eXBlKSB7CgogICAgICAg
IHJldHVybiAnPHNjcmlwdCBzcmM9IicudHhwc3BlY2lhbGNoYXJzKGh1LidtaW4vZj0nLiRw
cmVmc1snc3BmX2pzX2RpciddLicvJy4kbmFtZSkuJy5qcyI+PC9zY3JpcHQ+JzsKCiAgICB9
IGVsc2VpZiAoJHR5cGUgJiYgISRtaW4pIHsKCiAgICAgICAgcmV0dXJuICc8c2NyaXB0IHR5
cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSInLnR4cHNwZWNpYWxjaGFycyhodS4kcHJlZnNb
J3NwZl9qc19kaXInXS4nLycuJG5hbWUpLicuanMiPjwvc2NyaXB0Pic7CgogICAgfSBlbHNl
aWYgKCR0eXBlICYmICRtaW4pIHsKCiAgICAgICAgcmV0dXJuICc8c2NyaXB0IHR5cGU9InRl
eHQvamF2YXNjcmlwdCIgc3JjPSInLnR4cHNwZWNpYWxjaGFycyhodS4nbWluL2Y9Jy4kcHJl
ZnNbJ3NwZl9qc19kaXInXS4nLycuJG5hbWUpLicuanMiPjwvc2NyaXB0Pic7CgogICAgfQp9
CgovKioKICogTGlzdCBmdW5jdGlvbgogKi8KCmZ1bmN0aW9uIHNwZl9qc19saXN0KCRuYW1l
KSB7CgogICAgJG91dFtdID0gc3RhcnRUYWJsZSgnJywgJycsICd0eHAtbGlzdCcpOwoKICAg
ICRycyA9IHNhZmVfcm93c19zdGFydCgibmFtZSBhcyBqc25hbWUiLCAoInNwZl9qcyIpLCAi
MT0xIik7CgogICAgaWYgKCRycykgewoKICAgICAgICB3aGlsZSAoJGEgPSBuZXh0Um93KCRy
cykpIHsKICAgICAgICAgICAgZXh0cmFjdCgkYSk7CiAgICAgICAgICAgICRlZGl0ID0gKCRu
YW1lIT0kanNuYW1lKSA/IGVMaW5rKCdzcGZfanMnLCAnJywgJ25hbWUnLCAkanNuYW1lLCAk
anNuYW1lKSA6IHR4cHNwZWNpYWxjaGFycygkbmFtZSk7CiAgICAgICAgICAgICRkZWxldGUg
PSAoJGpzbmFtZSE9J2RlZmF1bHQnKSA/IGRMaW5rKCdzcGZfanMnLCAnc3BmX2pzX2RlbGV0
ZScsICduYW1lJywgJGpzbmFtZSkgOiAnJzsKICAgICAgICAgICAgJG91dFtdID0gdHIodGQo
JGVkaXQpLnRkKCRkZWxldGUpKTsKICAgICAgICB9CgogICAgICAgICRvdXRbXSA9ICBlbmRU
YWJsZSgpOwoKICAgICAgICByZXR1cm4gam9pbignJywgJG91dCk7CgogICAgfQp9CgovKioK
ICogRWRpdCBmdW5jdGlvbgogKi8KCmZ1bmN0aW9uIHNwZl9qc19lZGl0KCRtZXNzYWdlPScn
KSB7CgogICAgcGFnZXRvcChnVHh0KCdzcGZfamF2YXNjcmlwdCcpLCRtZXNzYWdlKTsKICAg
IGdsb2JhbCAkc3RlcCwgJHByZWZzOwogICAgc3BmX2pzX2VkaXRfcmF3KCk7Cgp9CgovKioK
ICogRWRpdCBmdW5jdGlvbiAocmF3KQogKi8KCmZ1bmN0aW9uIHNwZl9qc19lZGl0X3Jhdygp
IHsKCiAgICBnbG9iYWwgJGV2ZW50LCAkc3RlcDsKCiAgICAkZGVmYXVsdF9uYW1lID0gJ2Rl
ZmF1bHQnOwogICAgZXh0cmFjdChncHNhKGFycmF5KCduYW1lJywgJ25ld25hbWUnLCAnY29w
eScsICdzYXZlbmV3JykpKTsKCiAgICBpZiAoJHN0ZXAgPT0gJ3NwZl9qc19kZWxldGUnIHx8
IGVtcHR5KCRuYW1lKSAmJiAkc3RlcCAhPSAncG91cicgJiYgISRzYXZlbmV3KSB7CgogICAg
ICAgICRuYW1lID0gJGRlZmF1bHRfbmFtZTsKICAgIH0KCiAgICBlbHNlaWYgKCgkY29weSB8
fCAkc2F2ZW5ldykgJiYgdHJpbShwcmVnX3JlcGxhY2UoJy9bPD4mIlwnXS8nLCAnJywgJG5l
d25hbWUpKSkgewoKICAgICAgICAkbmFtZSA9ICRuZXduYW1lOwoKICAgIH0KCiAgICBpZiAo
ZW1wdHkoJG5hbWUpKSB7CgogICAgICAgICRidXR0b25zID0gJzxkaXYgY2xhc3M9ImVkaXQt
dGl0bGUiPicuCiAgICAgICAgZ1R4dCgnc3BmX3NjcmlwdF9uYW1lJykuJzogJwogICAgICAg
IC5mSW5wdXQoJ3RleHQnLCduZXduYW1lJywnJywnZWRpdCcsJycsJycsMjApLgogICAgICAg
IGhJbnB1dCgnc2F2ZW5ldycsJ3NhdmVuZXcnKS4KICAgICAgICAnPC9kaXY+JzsKICAgICAg
ICAkdGhlanMgPSBncHMoJ3NwZl9qcycpOwoKICAgIH0gZWxzZSB7CgogICAgICAgICRidXR0
b25zID0gJzxkaXYgY2xhc3M9ImVkaXQtdGl0bGUiPicuZ1R4dCgnc3BmX2VkaXRfc2NyaXB0
Jykuc3Auc3Ryb25nKHR4cHNwZWNpYWxjaGFycygkbmFtZSkpLic8L2Rpdj4nOwogICAgICAg
ICR0aGVqcyA9IGZldGNoKCJqcyIsJ3NwZl9qcycsJ25hbWUnLCRuYW1lKTsKCiAgICB9Cgog
ICAgaWYgKCFlbXB0eSgkbmFtZSkpIHsKCiAgICAgICAgJGNvcHkgPSAnPHNwYW4gY2xhc3M9
ImNvcHktYXMiPjxsYWJlbCBmb3I9ImNvcHktanMiPicuZ1R4dCgnc3BmX2NvcHlfc2NyaXB0
JykuJzwvbGFiZWw+Jy5zcC5mSW5wdXQoJ3RleHQnLCAnbmV3bmFtZScsICcnLCAnZWRpdCcs
ICcnLCAnJywgJycsICcnLCAnY29weS1qcycpLnNwLgogICAgICAgICAgICBmSW5wdXQoJ3N1
Ym1pdCcsICdjb3B5JywgZ1R4dCgnY29weScpLCAnc21hbGxlcmJveCcpLic8L3NwYW4+JzsK
CiAgICB9IGVsc2UgewoKICAgICAgICAkY29weSA9ICcnOwoKICAgIH0KCiAgICAkcmlnaHQg
PQogICAgJzxkaXYgaWQ9ImNvbnRlbnRfc3dpdGNoZXIiPicuCiAgICBoZWQoZ1R4dCgnc3Bm
X2FsbF9zY3JpcHRzJyksMikuCiAgICBncmFmKHNMaW5rKCdzcGZfanMnLCAncG91cicsIGdU
eHQoJ3NwZl9jcmVhdGVfbmV3X3NjcmlwdCcpKSwgJyBjbGFzcz0iYWN0aW9uLWNyZWF0ZSIn
KS4KICAgIHNwZl9qc19saXN0KCRuYW1lLCAkZGVmYXVsdF9uYW1lKS4KICAgICc8L2Rpdj4n
OwoKICAgIGVjaG8KICAgICc8aDEgY2xhc3M9InR4cC1oZWFkaW5nIj4nLmdUeHQoJ3NwZl90
YWJfc2NyaXB0JykuJzwvaDE+Jy4KICAgICc8ZGl2IGlkPSInLiRldmVudC4nX2NvbnRhaW5l
ciIgY2xhc3M9InR4cC1jb250YWluZXIiPicuCiAgICBzdGFydFRhYmxlKCcnLCAnJywgJ3R4
cC1jb2x1bW50YWJsZScpLgogICAgdHIoCiAgICAgICAgdGQoCiAgICAgICAgICAgIGZvcm0o
CiAgICAgICAgICAgICAgICAnPGRpdiBpZD0ibWFpbl9jb250ZW50Ij4nLgogICAgICAgICAg
ICAgICAgJGJ1dHRvbnMuCiAgICAgICAgICAgICAgICAnPHRleHRhcmVhIGlkPSJzcGZfanMi
IGNsYXNzPSJjb2RlIiBuYW1lPSJzcGZfanMiIGNvbHM9IicuSU5QVVRfTEFSR0UuJyIgcm93
cz0iJy5JTlBVVF9SRUdVTEFSLiciIHN0eWxlPSJoZWlnaHQ6IDM5LjI1ZW07Ij4nLnR4cHNw
ZWNpYWxjaGFycygkdGhlanMpLic8L3RleHRhcmVhPicuCiAgICAgICAgICAgICAgICAnPHA+
Jy5mSW5wdXQoJ3N1Ym1pdCcsJycsZ1R4dCgnc2F2ZScpLCdwdWJsaXNoJykuCiAgICAgICAg
ICAgICAgICBlSW5wdXQoJ3NwZl9qcycpLnNJbnB1dCgnc3BmX2pzX3NhdmUnKS4KICAgICAg
ICAgICAgICAgIGhJbnB1dCgnbmFtZScsJG5hbWUpLic8L3A+JwogICAgICAgICAgICAgICAg
LiRjb3B5LgogICAgICAgICAgICAgICAgJzwvZGl2PicKICAgICAgICAgICAgLCAnJywgJycs
ICdwb3N0JywgJ2VkaXQtZm9ybScsICcnLCAnc3R5bGVfZm9ybScpCiAgICAgICAgLCAnJywg
J2NvbHVtbicpLgogICAgICAgIHRkdGwoCiAgICAgICAgICAgICRyaWdodAogICAgICAgICwg
JyBjbGFzcz0iY29sdW1uIicpCiAgICApLgogICAgZW5kVGFibGUoKS4KICAgICc8L2Rpdj4n
Owp9CgovKioKICogQ29weSBmdW5jdGlvbgogKgogKi8KCmZ1bmN0aW9uIHNwZl9qc19jb3B5
KCkgewoKICAgIGV4dHJhY3QoZ3BzYShhcnJheSgnb2xkbmFtZScsICduZXduYW1lJykpKTsK
CiAgICAkanMgPSBkb1NsYXNoKGZldGNoKCdqcycsICdzcGZfanMnLCAnbmFtZScsICRvbGRu
YW1lKSk7CgogICAgJHJzID0gc2FmZV9pbnNlcnQoJ3NwZl9qcycsICJqcyA9ICckanMnLCBu
YW1lID0gJyIuZG9TbGFzaCgkbmV3bmFtZSkuIiciKTsKCiAgICBzcGZfanNfZWRpdCgKICAg
ICAgICBnVHh0KCdzcGZfc2NyaXB0X2NyZWF0ZWQnLCBhcnJheSgne25hbWV9JyA9PiAkbmV3
bmFtZSkpCiAgICApOwp9CgovKioKICogU2F2ZSBmdW5jdGlvbgogKi8KCmZ1bmN0aW9uIHNw
Zl9qc19zYXZlKCkgewoKICAgIGV4dHJhY3QoZ3BzYShhcnJheSgnbmFtZScsJ3NwZl9qcycs
J3NhdmVuZXcnLCduZXduYW1lJywnY29weScpKSk7CiAgICAkanMgPSBkb1NsYXNoKCRzcGZf
anMpOwoKICAgIGlmICgkc2F2ZW5ldyBvciAkY29weSkgewoKICAgICAgICAkbmV3bmFtZSA9
IGRvU2xhc2godHJpbShwcmVnX3JlcGxhY2UoJy9bPD4mIlwnXS8nLCAnJywgZ3BzKCduZXdu
YW1lJykpKSk7CgogICAgICAgIGlmICgkbmV3bmFtZSBhbmQgc2FmZV9maWVsZCgnbmFtZScs
ICdzcGZfanMnLCAibmFtZSA9ICckbmV3bmFtZSciKSkgewoKICAgICAgICAgICAgJG1lc3Nh
Z2UgPSBnVHh0KCdzcGZfc2NyaXB0X2V4aXN0cycsIGFycmF5KCd7bmFtZX0nID0+ICRuZXdu
YW1lKSk7CgogICAgICAgICAgICBpZiAoJHNhdmVuZXcpIHsKCiAgICAgICAgICAgICAgICAk
X1BPU1RbJ25ld25hbWUnXSA9ICcnOwoKICAgICAgICAgICAgfQoKICAgICAgICB9IGVsc2Vp
ZiAoJG5ld25hbWUpIHsKCiAgICAgICAgICAgIHNhZmVfaW5zZXJ0KCdzcGZfanMnLCAibmFt
ZSA9ICciLiRuZXduYW1lLiInLCBqcyA9ICckanMnIik7CgogICAgICAgICAgICAkbWVzc2Fn
ZSA9IGdUeHQoJ3NwZl9zY3JpcHRfY3JlYXRlZCcsIGFycmF5KCd7bmFtZX0nID0+ICRuZXdu
YW1lKSk7CgogICAgICAgICAgICBzcGZfanNfd3JpdGUoKTsKCiAgICAgICAgfSBlbHNlIHsK
CiAgICAgICAgICAgICRtZXNzYWdlID0gYXJyYXkoZ1R4dCgnc3BmX3NjcmlwdF9uYW1lX3Jl
cXVpcmVkJyksIEVfRVJST1IpOwoKICAgICAgICB9CgogICAgICAgIHNwZl9qc19lZGl0KCRt
ZXNzYWdlKTsKCiAgICB9IGVsc2UgewoKICAgICAgICBzYWZlX3VwZGF0ZSgnc3BmX2pzJywg
ImpzID0gJyRqcyciLCAibmFtZSA9ICciLmRvU2xhc2goJG5hbWUpLiInIik7CgogICAgICAg
ICRtZXNzYWdlID0gZ1R4dCgnc3BmX3NjcmlwdF91cGRhdGVkJywgYXJyYXkoJ3tuYW1lfScg
PT4gJG5hbWUpKTsKCiAgICAgICAgc3BmX2pzX3dyaXRlKCk7CgogICAgICAgIHNwZl9qc19l
ZGl0KCRtZXNzYWdlKTsKCiAgICB9Cgp9CgovKioKICogV3JpdGUgZnVuY3Rpb24KICovCgpm
dW5jdGlvbiBzcGZfanNfd3JpdGUoKSB7CgogICAgZ2xvYmFsICRwcmVmczsKICAgIGV4dHJh
Y3QoZ3BzYShhcnJheSgnbmFtZScsJ3NwZl9qcycsJ3NhdmVuZXcnLCduZXduYW1lJywnY29w
eScpKSk7CgogICAgJG5hbWUgPSAocHMoJ2NvcHknKSBvciBwcygnc2F2ZW5ldycpKSA/IHBz
KCduZXduYW1lJykgOiBwcygnbmFtZScpOwogICAgJGZpbGVuYW1lID0gc3RydG9sb3dlcihz
YW5pdGl6ZUZvclVybCgkbmFtZSkpOwogICAgJGZpbGUgPSAkcHJlZnNbJ3BhdGhfdG9fc2l0
ZSddLicvJy4kcHJlZnNbJ3NwZl9qc19kaXInXS4nLycuJGZpbGVuYW1lOwoKICAgIGlmIChl
bXB0eSgkcHJlZnNbJ3NwZl9qc19kaXInXSkgb3IgISRmaWxlbmFtZSkgewoKICAgICAgICBy
ZXR1cm47CgogICAgfSBlbHNlIHsKCiAgICAkanNfcmF3ID0gZmV0Y2goImpzIiwgInNwZl9q
cyIsICduYW1lJywgJG5hbWUpOyAvLyBNb3ZlZCBoZXJlIHRvIHNhdmUgbmV3bHktY3JlYXRl
ZCBzY3JpcHRzCgogICAgICAgICRoYW5kbGUgPSBmb3BlbigkZmlsZS4nLmpzJywgJ3diJyk7
CiAgICAgICAgZndyaXRlKCRoYW5kbGUsICRqc19yYXcpOwogICAgICAgIGZjbG9zZSgkaGFu
ZGxlKTsKICAgICAgICBjaG1vZCgkZmlsZS4nLmpzJywgMDY0NCk7CiAgICB9Cgp9CgovKioK
ICogRGVsZXRlIGZ1bmN0aW9uCiAqLwoKZnVuY3Rpb24gc3BmX2pzX2RlbGV0ZSgpIHsKCiAg
ICBnbG9iYWwgJHByZWZzOwoKICAgICRkYm5hbWUgPSB0cmltKHByZWdfcmVwbGFjZSgnL1s8
PiYiXCddLycsICcnLCBwcygnbmFtZScpKSk7CiAgICAkbmFtZSA9IHN0cnRvbG93ZXIoc2Fu
aXRpemVGb3JVcmwocHMoJ25hbWUnKSkpOwogICAgJGZpbGUgPSAkcHJlZnNbJ3BhdGhfdG9f
c2l0ZSddLicvJy4kcHJlZnNbJ3NwZl9qc19kaXInXS4nLycuJG5hbWU7CgogICAgaWYgKCRu
YW1lICE9ICdkZWZhdWx0JykgewoKICAgICAgICBzYWZlX2RlbGV0ZSgic3BmX2pzIiwgIm5h
bWUgPSAnIi5kb1NsYXNoKCRkYm5hbWUpLiInIik7CgogICAgICAgIGlmICghZW1wdHkoJHBy
ZWZzWydzcGZfanNfZGlyJ10pIGFuZCAkbmFtZSkgewoKICAgICAgICAgICAgQHVubGluaygk
ZmlsZS4nLmpzJyk7CgogICAgICAgIH0KCiAgICAgICAgc3BmX2pzX2VkaXQoCgogICAgICAg
ICAgICBnVHh0KCdzcGZfc2NyaXB0X2RlbGV0ZWQnLCBhcnJheSgne25hbWV9JyA9PiAkbmFt
ZSkpCiAgICAgICAgKTsKCiAgICB9IGVsc2UgewoKICAgICAgICBlY2hvIGdUeHQoJ3NwZl9j
YW5ub3RfZGVsZXRlX2RlZmF1bHRfc2NyaXB0JykuJy4nOwoKICAgIH0KfSI7czozOiJtZDUi
O3M6MzI6IjU4ZTMzYjc2NDQ3ODc5ZTFmOGZmNTEzY2Y3N2NjYzNmIjt9